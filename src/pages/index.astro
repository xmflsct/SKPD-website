---
import Layout from '../layouts/Layout.astro'
import Event from '../layouts/Event.astro'
import { getCollection } from 'astro:content'

const latestEvents = await getCollection('latestEvent')
const latestEvent = latestEvents[0]

// Get OG image from the latest event
const ogImage = latestEvent?.data?.featuredImage?.fields?.file?.url
  ? `https:${latestEvent.data.featuredImage.fields.file.url}?w=1200&h=630&fit=fill`
  : undefined
---

<Layout 
  title='Home' 
  keywords={['SKPD', 'keramiek', 'Delft', 'Terra Delft', 'hedendaagse keramiek']} 
  description='Stichting Keramiek Promotie Delft bevordert de belangstelling voor nationale en internationale hedendaagse keramiek.'
  ogImage={ogImage}
>
  <Event event={latestEvent.data} />
</Layout>
